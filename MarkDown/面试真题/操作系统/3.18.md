# 1.用户态，内核态，系统调用

linux运行空间分为内核空间与用户空间、inter cpu分为ring0-3 4种级别的运行模式、

用户态：处于ring3状态、运行在用户空间、不能访问内核数据、不能使用内核函数、通过系统调用和中断进入内核态

内核态：处于ring0状态、运行在内核空间、可以任意访问内核数据、随意进入用户态

系统调用：使用时很像一般的函数调用、但会引起从用户态到内核态的变化

# 2.线程同步是干什么的，有哪些机制

线程同步：协同步调、几个线程排队对共享资源进行操作

作用：多个线程同时读写一份共享资源时，防止冲突、防止数据被多次覆盖、保证数据完整性

机制：

1. 临界区：任意时刻只让一个线程访问资源，结束后其他线程抢占
2. 互斥量：和临界区类似，可用于不同进程间的线程同步
3. 事件：通知操作、可以方便多个线程的优先级比较
4. 信号量：允许多个线程访问同一资源、但限制同一时间的最大数量

# 3.内核线程和用户线程有什么区别

内核线程：由内核创建和撤销、与进程的创建撤销大体相同，所以比用户线程多了进出内核的消耗、是内核可感知的，在执行系统调用时只中断线程，实体是可以运行在任何状态的程序

用户线程：创建、管理由用户程序实现、不需要用户态|内核态的切换、是内核不可感知的，在执行系统调用时中断进程，实体是运行在用户态的程序